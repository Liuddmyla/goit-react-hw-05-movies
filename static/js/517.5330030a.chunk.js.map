{"version":3,"file":"static/js/517.5330030a.chunk.js","mappings":"0KAAIA,E,SAEAC,EAAY,CAAC,QAAS,WAE1B,SAASC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAAUH,EAASY,MAAMC,KAAMR,UAAY,CAE5T,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAA2DC,EAAKJ,EAA5DD,EAAS,CAAC,EAAOa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,CAAQ,CAFhNgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,GAAQ,CAAE,OAAOL,CAAQ,CAM3e,SAASoB,EAASC,EAAMC,GACtB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQd,EAAyBU,EAAMzB,GAE3C,OAAoB,gBAAoB,MAAOC,EAAS,CACtD6B,MAAO,6BACPC,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,IAAKR,EACL,kBAAmBE,GAClBC,QAAkBM,IAAVR,EAAmC,gBAAoB,QAAS,CACzES,GAAIR,GACH,SAAWD,EAAqB,gBAAoB,QAAS,CAC9DS,GAAIR,GACHD,GAAS,KAAM5B,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3EsC,EAAG,sHAEP,CAEA,IAAIC,EAA0B,aAAiBd,GAChC,G,0GCjCf,EAAsB,0BAAtB,EAAyD,6BAAzD,EAA6F,2BAA7F,EAAmI,+BAAnI,EAAyK,2B,2BCKnKe,EACK,UADLA,EAEM,WAFNA,EAGM,WAqFZ,EAlFsB,WAAO,IAAD,IAClBC,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,EAAY,qBADDC,EAAAA,EAAAA,MACaC,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,UAE7C,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOnB,EAAP,KAAcsB,EAAd,KACA,GAAwBH,EAAAA,EAAAA,UAAS,IAAjC,eAAOI,EAAP,KAAaC,EAAb,KACA,GAA0BL,EAAAA,EAAAA,UAAS,MAAnC,eAAOM,EAAP,KAAcC,EAAd,KACA,GAAgCP,EAAAA,EAAAA,UAAS,IAAzC,eAAOQ,EAAP,KAAiBC,EAAjB,KACA,GAA4BT,EAAAA,EAAAA,UAAS,IAArC,eAAOU,EAAP,KAAeC,EAAf,KACA,GAA4BX,EAAAA,EAAAA,UAAS,MAArC,eAAOY,EAAP,KAAeC,EAAf,KACA,GAA0Bb,EAAAA,EAAAA,UAAS,MAAnC,eAAOc,EAAP,KAAcC,EAAd,KA+BE,OA7BFC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAG,6CAAyCvB,EAAzC,6CAETmB,EAAUpB,GAELC,GAELwB,MAAMD,GAAKE,MAAK,SAAAC,GACd,OAAIA,EAASC,GACJD,EAASE,OAETC,QAAQC,OAAO,IAAIC,MAAM,UAClC,IACAN,MAAK,SAACO,GACLxB,EAAUwB,EAAI,aACdvB,EAASuB,EAAK7C,OACdwB,EAAQqB,EAAI,cACZnB,EAASmB,EAAI,aAAiBC,QAAQ,IACtClB,EAAYiB,EAAKlB,UACjBG,EAAUe,EAAKhB,QACfG,EAAUpB,EACX,IACAmC,OAAM,SAAAd,GACLC,EAASD,GACTD,EAAUpB,EACX,GACH,GAAE,CAACC,KAIA,kBAAMmC,UAAWC,EAAjB,UACGlB,IAAWnB,IAAoB,yBAAMqB,EAAMiB,UAC3CnB,IAAWnB,IAAkB,SAACuC,EAAA,EAAD,IAC7BpB,IAAWnB,IAAoB,iCAC9B,SAAC,KAAD,CAAMwC,GAAIrC,EAAV,UAAwB,oBAAQsC,KAAK,SAAUL,UAAWC,EAAlC,WAA8C,SAAC,IAAD,IAA9C,kBACxB,iBAAKD,UAAWC,EAAhB,WACE,gBAAKK,IAAG,yCAAoClC,GAAUmC,IAAI,YAC1D,4BACE,0BAAKvD,EAAL,KAAcuB,EAAd,QACA,eAAGyB,UAAWC,EAAd,yBAAyCxB,MACzC,cAAGuB,UAAWC,EAAd,wBACA,uBAAItB,KACJ,cAAGqB,UAAWC,EAAd,sBACA,yBACGpB,EAAO2B,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,eAI5C,iBAAKX,UAAWC,EAAhB,WACE,mDACE,2BACE,yBACE,SAAC,KAAD,CAAMG,GAAG,OAAOnC,MAAO,CAAEC,KAAMH,GAA/B,qBAEF,yBACE,SAAC,KAAD,CAAMqC,GAAG,UAAUnC,MAAO,CAAEC,KAAMH,GAAlC,8BAIR,SAAC,EAAA6C,SAAD,CAAUC,UAAU,+BAAE,SAACV,EAAA,EAAD,MAAtB,UACE,SAAC,KAAD,WAMX,C","sources":["icons/undo2.svg","webpack://react-homework-template/./src/css/MovieDetails.module.css?f1a1","pages/MovieDetails.jsx"],"sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgUndo2(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"undo2\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.808 32c3.554-6.439 4.153-16.26-9.808-15.932v7.932l-12-12 12-12v7.762c16.718-0.436 18.58 14.757 9.808 24.238z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUndo2);\nexport default __webpack_public_path__ + \"static/media/undo2.85d56a8c9318af01d48121a3169c2fb3.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"box\":\"MovieDetails_box__EqMJX\",\"button\":\"MovieDetails_button__5rm07\",\"card\":\"MovieDetails_card__qw0zj\",\"subtitle\":\"MovieDetails_subtitle__BrDao\",\"info\":\"MovieDetails_info__3QK6M\"};","import { Suspense, useEffect, useState } from \"react\";\nimport { Outlet, Link, useParams, useLocation } from \"react-router-dom\";\nimport css from '../css/MovieDetails.module.css';\nimport { ReactComponent as SearchIcon } from \"../icons/undo2.svg\";\nimport { Loader } from \"components/Loader\";\n\nconst Status = {\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected'\n};\n\nconst MoviesDetails = () => {\n  const { movieId } = useParams();  \n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? \"/movies\";\n\n  const [poster, setPoster] = useState('');\n  const [title, setTitle] = useState('');\n  const [date, setDate] = useState('');\n  const [score, setScore] = useState(null);\n  const [overview, setOverview] = useState('');\n  const [genres, setGenres] = useState([]);\n  const [status, setStatus] = useState(null);\n  const [error, setError] = useState(null);\n  \n  useEffect(() => {\n    const URL = `https://api.themoviedb.org/3/movie/${movieId}?api_key=7e2a233d026ec02ed6e123027bfe9410`;       \n    \n    setStatus(Status.PENDING);\n\n    if (!movieId) return;\n\n    fetch(URL).then(response => {\n      if (response.ok) {         \n        return response.json();\n      }\n        return Promise.reject(new Error('Error!'))\n     })\n     .then((data) => {           \n       setPoster(data['poster_path']);\n       setTitle(data.title);\n       setDate(data['release_date']);\n       setScore(data['vote_average'].toFixed(1));\n       setOverview(data.overview);\n       setGenres(data.genres);\n       setStatus(Status.RESOLVED);    \n     })\n     .catch(error => {\n       setError(error);\n       setStatus(Status.REJECTED);\n     });   \n  }, [movieId])\n   \n  \n    return (\n      <main className={css.box}>\n        {status === Status.REJECTED && (<div>{error.message}</div>)}\n        {status === Status.PENDING && <Loader />}\n        {status === Status.RESOLVED && (<>\n          <Link to={backLinkHref}><button type=\"button\"  className={css.button}><SearchIcon /> Go back </button></Link>        \n          <div className={css.card}>\n            <img src={`https://image.tmdb.org/t/p/w200${poster}`} alt='poster' />\n            <div>\n              <h2>{title} ({date})</h2>\n              <p className={css.subtitle}>User Score: {score}</p>\n              <p className={css.subtitle}>Overview:</p>\n              <p>{overview}</p>\n              <p className={css.subtitle}>Genres:</p>\n              <div>\n                {genres.map(genre => genre.name).join(', ')}\n              </div>                        \n            </div>\n          </div>\n          <div className={css.info}>\n            <p>Additional information</p>\n              <ul>\n                <li>\n                  <Link to=\"cast\" state={{ from: backLinkHref }}>Cast</Link>\n                </li>\n                <li>\n                  <Link to=\"reviews\" state={{ from: backLinkHref }}>Reviews</Link>\n                </li>        \n              </ul>\n          </div> \n          <Suspense fallback={<><Loader/></>}>\n            <Outlet />\n          </Suspense>          \n        </>  \n        )}        \n    </main>\n    );\n};\n\nexport default MoviesDetails;"],"names":["_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgUndo2","_ref","svgRef","title","titleId","props","xmlns","width","height","viewBox","ref","undefined","id","d","ForwardRef","Status","movieId","useParams","backLinkHref","useLocation","state","from","useState","poster","setPoster","setTitle","date","setDate","score","setScore","overview","setOverview","genres","setGenres","status","setStatus","error","setError","useEffect","URL","fetch","then","response","ok","json","Promise","reject","Error","data","toFixed","catch","className","css","message","Loader","to","type","src","alt","map","genre","name","join","Suspense","fallback"],"sourceRoot":""}